import{e as G,b as I,c as x,d as T,f as E,S as O,N as D,A as H,a as F}from"./swiper-bundle.min-800ce7a7.js";import{b as N,g as R}from"./helpers-0bb72b7a.js";function V({swiper:a,extendParams:b,on:o,emit:u}){const d="swiper-pagination";b({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${d}-bullet`,bulletActiveClass:`${d}-bullet-active`,modifierClass:`${d}-`,currentClass:`${d}-current`,totalClass:`${d}-total`,hiddenClass:`${d}-hidden`,progressbarFillClass:`${d}-progressbar-fill`,progressbarOppositeClass:`${d}-progressbar-opposite`,clickableClass:`${d}-clickable`,lockClass:`${d}-lock`,horizontalClass:`${d}-horizontal`,verticalClass:`${d}-vertical`,paginationDisabledClass:`${d}-disabled`}}),a.pagination={el:null,bullets:[]};let v,m=0;const y=t=>(Array.isArray(t)||(t=[t].filter(e=>!!e)),t);function k(){return!a.params.pagination.el||!a.pagination.el||Array.isArray(a.pagination.el)&&a.pagination.el.length===0}function B(t,e){const{bulletActiveClass:l}=a.params.pagination;t&&(t=t[`${e==="prev"?"previous":"next"}ElementSibling`],t&&(t.classList.add(`${l}-${e}`),t=t[`${e==="prev"?"previous":"next"}ElementSibling`],t&&t.classList.add(`${l}-${e}-${e}`)))}function z(t){if(!t.target.matches(x(a.params.pagination.bulletClass)))return;t.preventDefault();const l=I(t.target)*a.params.slidesPerGroup;a.params.loop?a.slideToLoop(l):a.slideTo(l)}function h(){const t=a.rtl,e=a.params.pagination;if(k())return;let l=a.pagination.el;l=y(l);let n;const f=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,p=a.params.loop?Math.ceil(f/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?n=a.params.slidesPerGroup>1?Math.floor(a.realIndex/a.params.slidesPerGroup):a.realIndex:typeof a.snapIndex<"u"?n=a.snapIndex:n=a.activeIndex||0,e.type==="bullets"&&a.pagination.bullets&&a.pagination.bullets.length>0){const s=a.pagination.bullets;let g,r,L;if(e.dynamicBullets&&(v=G(s[0],a.isHorizontal()?"width":"height",!0),l.forEach(i=>{i.style[a.isHorizontal()?"width":"height"]=`${v*(e.dynamicMainBullets+4)}px`}),e.dynamicMainBullets>1&&a.previousIndex!==void 0&&(m+=n-(a.previousIndex||0),m>e.dynamicMainBullets-1?m=e.dynamicMainBullets-1:m<0&&(m=0)),g=Math.max(n-m,0),r=g+(Math.min(s.length,e.dynamicMainBullets)-1),L=(r+g)/2),s.forEach(i=>{i.classList.remove(...["","-next","-next-next","-prev","-prev-prev","-main"].map(c=>`${e.bulletActiveClass}${c}`))}),l.length>1)s.forEach(i=>{const c=I(i);c===n&&i.classList.add(e.bulletActiveClass),e.dynamicBullets&&(c>=g&&c<=r&&i.classList.add(`${e.bulletActiveClass}-main`),c===g&&B(i,"prev"),c===r&&B(i,"next"))});else{const i=s[n];if(i&&i.classList.add(e.bulletActiveClass),e.dynamicBullets){const c=s[g],C=s[r];for(let $=g;$<=r;$+=1)s[$].classList.add(`${e.bulletActiveClass}-main`);B(c,"prev"),B(C,"next")}}if(e.dynamicBullets){const i=Math.min(s.length,e.dynamicMainBullets+4),c=(v*i-v)/2-L*v,C=t?"right":"left";s.forEach($=>{$.style[a.isHorizontal()?C:"top"]=`${c}px`})}}l.forEach((s,g)=>{if(e.type==="fraction"&&(s.querySelectorAll(x(e.currentClass)).forEach(r=>{r.textContent=e.formatFractionCurrent(n+1)}),s.querySelectorAll(x(e.totalClass)).forEach(r=>{r.textContent=e.formatFractionTotal(p)})),e.type==="progressbar"){let r;e.progressbarOpposite?r=a.isHorizontal()?"vertical":"horizontal":r=a.isHorizontal()?"horizontal":"vertical";const L=(n+1)/p;let i=1,c=1;r==="horizontal"?i=L:c=L,s.querySelectorAll(x(e.progressbarFillClass)).forEach(C=>{C.style.transform=`translate3d(0,0,0) scaleX(${i}) scaleY(${c})`,C.style.transitionDuration=`${a.params.speed}ms`})}e.type==="custom"&&e.renderCustom?(s.innerHTML=e.renderCustom(a,n+1,p),g===0&&u("paginationRender",s)):(g===0&&u("paginationRender",s),u("paginationUpdate",s)),a.params.watchOverflow&&a.enabled&&s.classList[a.isLocked?"add":"remove"](e.lockClass)})}function A(){const t=a.params.pagination;if(k())return;const e=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length;let l=a.pagination.el;l=y(l);let n="";if(t.type==="bullets"){let f=a.params.loop?Math.ceil(e/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&f>e&&(f=e);for(let p=0;p<f;p+=1)t.renderBullet?n+=t.renderBullet.call(a,p,t.bulletClass):n+=`<${t.bulletElement} class="${t.bulletClass}"></${t.bulletElement}>`}t.type==="fraction"&&(t.renderFraction?n=t.renderFraction.call(a,t.currentClass,t.totalClass):n=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),t.type==="progressbar"&&(t.renderProgressbar?n=t.renderProgressbar.call(a,t.progressbarFillClass):n=`<span class="${t.progressbarFillClass}"></span>`),l.forEach(f=>{t.type!=="custom"&&(f.innerHTML=n||""),t.type==="bullets"&&(a.pagination.bullets=[...f.querySelectorAll(x(t.bulletClass))])}),t.type!=="custom"&&u("paginationRender",l[0])}function M(){a.params.pagination=T(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const t=a.params.pagination;if(!t.el)return;let e;typeof t.el=="string"&&a.isElement&&(e=a.el.shadowRoot.querySelector(t.el)),!e&&typeof t.el=="string"&&(e=[...document.querySelectorAll(t.el)]),e||(e=t.el),!(!e||e.length===0)&&(a.params.uniqueNavElements&&typeof t.el=="string"&&Array.isArray(e)&&e.length>1&&(e=[...a.el.querySelectorAll(t.el)],e.length>1&&(e=e.filter(l=>E(l,".swiper")[0]===a.el)[0])),Array.isArray(e)&&e.length===1&&(e=e[0]),Object.assign(a.pagination,{el:e}),e=y(e),e.forEach(l=>{t.type==="bullets"&&t.clickable&&l.classList.add(t.clickableClass),l.classList.add(t.modifierClass+t.type),l.classList.add(a.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(l.classList.add(`${t.modifierClass}${t.type}-dynamic`),m=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&l.classList.add(t.progressbarOppositeClass),t.clickable&&l.addEventListener("click",z),a.enabled||l.classList.add(t.lockClass)}))}function S(){const t=a.params.pagination;if(k())return;let e=a.pagination.el;e&&(e=y(e),e.forEach(l=>{l.classList.remove(t.hiddenClass),l.classList.remove(t.modifierClass+t.type),l.classList.remove(a.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&l.removeEventListener("click",z)})),a.pagination.bullets&&a.pagination.bullets.forEach(l=>l.classList.remove(t.bulletActiveClass))}o("init",()=>{a.params.pagination.enabled===!1?P():(M(),A(),h())}),o("activeIndexChange",()=>{typeof a.snapIndex>"u"&&h()}),o("snapIndexChange",()=>{h()}),o("snapGridLengthChange",()=>{A(),h()}),o("destroy",()=>{S()}),o("enable disable",()=>{let{el:t}=a.pagination;t&&(t=y(t),t.forEach(e=>e.classList[a.enabled?"remove":"add"](a.params.pagination.lockClass)))}),o("lock unlock",()=>{h()}),o("click",(t,e)=>{const l=e.target;let{el:n}=a.pagination;if(Array.isArray(n)||(n=[n].filter(f=>!!f)),a.params.pagination.el&&a.params.pagination.hideOnClick&&n&&n.length>0&&!l.classList.contains(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&l===a.navigation.nextEl||a.navigation.prevEl&&l===a.navigation.prevEl))return;const f=n[0].classList.contains(a.params.pagination.hiddenClass);u(f===!0?"paginationShow":"paginationHide"),n.forEach(p=>p.classList.toggle(a.params.pagination.hiddenClass))}});const q=()=>{a.el.classList.remove(a.params.pagination.paginationDisabledClass);let{el:t}=a.pagination;t&&(t=y(t),t.forEach(e=>e.classList.remove(a.params.pagination.paginationDisabledClass))),M(),A(),h()},P=()=>{a.el.classList.add(a.params.pagination.paginationDisabledClass);let{el:t}=a.pagination;t&&(t=y(t),t.forEach(e=>e.classList.add(a.params.pagination.paginationDisabledClass))),S()};Object.assign(a.pagination,{enable:q,disable:P,render:A,update:h,init:M,destroy:S})}O.use([D,H,F,V]);function J(a){const b=N(a),o=R(a),u=j(b,o);return()=>u.destroy()}function j(a,b){const{options:o}=b,u={modules:[D,H,F],a11y:o.a11y,slidesPerView:"auto",spaceBetween:40,pagination:{el:a.pagination,type:"bullets",clickable:!0},breakpoints:{640:{slidesPerView:2,spaceBetween:40},1181:{slidesPerView:4,spaceBetween:40}}};return o.autoplay&&o.autoplaySpeed&&(u.autoplay={delay:o.autoplaySpeed}),new O(a.slider,u)}export{J as default};
